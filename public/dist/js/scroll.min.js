window.onscroll = function () {
  var e = document.getElementById("container-scroll").offsetTop,
    t = document.getElementById("container-scroll2").offsetTop,
    o = document.getElementById("container-scroll3").offsetTop,
    n = document.getElementById("container-scroll4").offsetTop,
    l = window.innerHeight;
  if (
    document.documentElement.scrollTop > e - l &&
    document.documentElement.scrollTop < t + l &&
    document.documentElement.scrollTop <= t - 100
  ) {
    var r = this.document.getElementById("card-scroll"),
      c = this.document.getElementById("card-scroll2"),
      s = (document.documentElement.scrollTop - e) * 0.5,
      a = (document.documentElement.scrollTop - e) * 0.3;
    (r.style.transform = "translateY(" + s + "px)"),
      (c.style.transform = "translateX(" + a + "px) translateY( " + a + "px)");
  }
  if (
    document.documentElement.scrollTop > o - l &&
    document.documentElement.scrollTop < n + l &&
    document.documentElement.scrollTop <= n - 100
  ) {
    var r = this.document.getElementById("card-scroll3"),
      c = this.document.getElementById("card-scroll4"),
      s = (document.documentElement.scrollTop - o) * 0.5,
      a = (document.documentElement.scrollTop - n) * 0.3;
    (r.style.transform = "translateY(" + s + "px)"),
      (c.style.transform = "translateX(" + -a + "px) translateY( " + a + "px)");
  }
  var e = document.getElementById("counter-scroll").offsetTop,
    l = window.innerHeight;
  document.documentElement.scrollTop;
};
const duration = 2e3;
function updateCounter(e, t) {
  let o = 0,
    n = e / 200;
  !(function l() {
    o < e &&
      ((o += n) > e && (o = e),
      (t.textContent = Math.ceil(o)),
      setTimeout(l, 10));
  })();
}
function startAllCounters() {
  document.querySelectorAll(".counter").forEach((e) => {
    let t = parseInt(e.getAttribute("data-target"), 10);
    (e.textContent = 0), updateCounter(t, e);
  });
}
let observer = new IntersectionObserver((e) => {
  e.some((e) => e.isIntersecting) &&
    (startAllCounters(), e.forEach((e) => observer.unobserve(e.target)));
});
window.onload = function () {
  document.querySelectorAll(".counter-container").forEach((e) => {
    observer.observe(e);
  });
};
